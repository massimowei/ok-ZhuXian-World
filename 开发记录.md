2026年1月28日

## 已完成

### 游戏日历：离线版（不联网也能用）

- 用 Qt 版本工具箱直接实现“任务管理 + 活动日历”，不再使用 WebView 加载网页
- 任务管理支持：
  - 多角色（新增/切换/改名/删除）
  - 每日必做：勾选完成
  - 每周必做：分组子任务计数（- / +）与勾选（总次数为 1 的任务）
  - 自动重置：
    - 日常：每天 07:00 自动清空
    - 周常：每周三 07:00 自动清空
  - 顶部显示距离下次日常/周常刷新的倒计时
- 活动日历支持：
  - 周一到周日 7 列展示（按时间排序）
  - 点击任务可标记完成/取消
  - 每周一次任务：本周任意一场勾选即算完成（联动）
  - 一键“重置本周进度”
- 本地数据存储（离线保存）：
  - tools/rili/storage/game-task-manager-v1.json
  - tools/rili/storage/activity-calendar-v1.json

### 启动方式与回退提示

- main.py 启动时优先使用 Qt UI，失败才回退到 Tkinter UI
- Tkinter 回退界面提示已更新为“游戏日历需要 Qt 版本（请用 python main.py 启动）”

## 接下来计划

### 1) 体验与可用性优化（优先）

- 让任务管理的“删除角色”增加二次确认，避免误删
- 活动日历的展示增强：
  - 今天高亮更明显（例如标题加粗/颜色）
  - “仅展示”任务的样式更区分（避免用户误以为能勾选）
- 任务管理增加“手动重置”按钮：
  - 只重置日常
  - 只重置周常

### 2) 数据与兼容性

- 兼容旧版 WebView 存储残留：保留现有 JSON 方案，不依赖浏览器 localStorage
- 增加数据结构版本号，后续调整任务列表时可平滑迁移（不丢进度）

### 3) 任务内容扩展（按需）

- 把活动日历任务列表和任务管理任务列表做成可配置（先内置默认，后续再开放编辑）
- 增加导入/导出进度（方便换电脑/备份）
